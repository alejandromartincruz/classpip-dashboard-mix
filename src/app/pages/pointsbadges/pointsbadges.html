<div class="point-content">

    <h3 mat-header>{{ 'POINTSBADGES.TITLE' | translate }}</h3>
    <h4 mat-subheader>{{ 'POINTSBADGES.POINTSTITLE' | translate }}</h4>

    <ol>
      <mat-card class="assign-content">
          <h5 mat-subheader>Assignació de punts</h5>
        <mat-form-field >
            <mat-select [(value)]="groupSelected" placeholder="Escull el group" >

              <mat-option *ngFor="let group of mygroups" [value]="group.id" (click)="openStudents()">
                {{group.name}}
              </mat-option>
            </mat-select>

          </mat-form-field>
          <mat-form-field >
              <mat-select [(value)]="studentSelected" placeholder="Escull l'estudiant" [formControl]= "myControl">

                <mat-option *ngFor="let student of mystudents" [value]="student.id">
                  {{student.name}}
                </mat-option>
              </mat-select>

            </mat-form-field>


            <mat-form-field >
                <mat-select [(value)]="pointSelected" placeholder="Escull el tipus de Punt" [formControl]= "myControl">

                  <mat-option *ngFor="let point of points" [value]="point.id">
                    {{point.name}}
                  </mat-option>
                </mat-select>

              </mat-form-field>
              <br>
              <mat-form-field>
                  <input matInput type="number" min="0" [(ngModel)]="valueSelected" placeholder="Escull la quantitat">
                </mat-form-field>

                <button class="buttonsend" mat-raised-button (click)="sendPointRelation()">ENVIAR PUNTS</button>


        </mat-card>
    </ol>
    <br>

    <mat-nav-list *ngIf="points">
        <h3 mat-subheader>Llista de punts</h3>

        <mat-list-item *ngFor="let point of points" >
            <img matListAvatar src={{point.image}}>
          <h4 mat-line>{{point.name}}</h4>
          <p mat-line>{{ 'POINTSBADGES.POINTID' | translate }}{{point.id}}</p>
        </mat-list-item>
        <mat-progress-bar mode="buffer"></mat-progress-bar>
      </mat-nav-list>
      <ol>
          <button mat-raised-button (click)="createPoint()">{{ 'POINTSBADGES.CREATEPOINT' | translate }}</button>
        </ol>


        <ol>
            <mat-form-field>
              <input matInput [(ngModel)]="pointId" placeholder="Punt ID">
            </mat-form-field>
            <button mat-raised-button (click)="deletePoint()">Eliminar Punt</button>
        </ol>
        <br>
        <br>
        <h4 mat-subheader>{{ 'POINTSBADGES.BADGESTITLE' | translate }}</h4>

        <ol>
            <mat-card class="assign-content">
                <h5 mat-subheader>Assignació d'Insígnies</h5>
              <mat-form-field >
                  <mat-select [(value)]="groupSelected2" placeholder="Escull el group" >

                    <mat-option *ngFor="let group of mygroups" [value]="group.id" (click)="openStudents2()">
                      {{group.name}}
                    </mat-option>
                  </mat-select>

                </mat-form-field>
                <mat-form-field >
                    <mat-select [(value)]="studentSelected2" placeholder="Escull l'estudiant" [formControl]= "myControl">

                      <mat-option *ngFor="let student of mystudents" [value]="student.id">
                        {{student.name}}
                      </mat-option>
                    </mat-select>

                  </mat-form-field>


                  <mat-form-field >
                      <mat-select [(value)]="badgeSelected" placeholder="Escull la insígnia" [formControl]= "myControl">

                        <mat-option *ngFor="let badge of badges" [value]="badge.id">
                          {{badge.name}}
                        </mat-option>
                      </mat-select>

                    </mat-form-field>
                    <br>
                    <button class="buttonsend2" mat-raised-button (click)="sendBadgeRelation()">ASSIGNAR INSÍGNIA</button>


              </mat-card>
          </ol>

          <br>
      <mat-nav-list *ngIf="badges">

          <h3 mat-subheader>Llista d'insígnies</h3>
          <mat-list-item *ngFor="let badge of badges" >
              <img matListAvatar src={{badge.image}}>
              <h4 mat-line>{{badge.name}}</h4>
            <p mat-line>{{ 'POINTSBADGES.BADGEID' | translate }}{{badge.id}}</p>
          </mat-list-item>
          <mat-progress-bar mode="buffer"></mat-progress-bar>
        </mat-nav-list>


        <ol>
            <button mat-raised-button (click)="createBadge()">{{ 'POINTSBADGES.CREATEBADGE' | translate }}</button>
        </ol>

        <ol>
            <mat-form-field>
              <input matInput [(ngModel)]="badgeId" placeholder="Insígnia ID">
            </mat-form-field>
            <button mat-raised-button (click)="deleteBadge()">Eliminar Insígnia</button>
        </ol>
  </div>
